<!Doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta id="meta" name="viewport" content="width=device-width; initial-scale=1.0">
		<link href="css/reset.css" rel="stylesheet" type="text/css">
		<link href="css/style.css" rel="stylesheet" type="text/css">
		<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="js/script.js"></script>
		<title>Master Codebreaker</title>
	</head>
	<body>
		<script>
			if (<%= winner %>) {
				setTimeout( function() {alert("You win!\nTotal wins: <%= player.wins %>\nTotal losses: <%= player.losses %>\nBest score: <%= player.best %> turns"); }, 1);
			} else if (<%= loser %> && <%= player.best %> != -1) {
				setTimeout( function() {alert("You lose!\nTotal wins: <%= player.wins %>\nTotal losses: <%= player.losses %>\nBest score: <%= player.best %> turns"); }, 1);
			} else if (<%= loser %>) {
				setTimeout( function() {alert("You lose!\nTotal wins: <%= player.wins %>\nTotal losses: <%= player.losses %>"); }, 1);
			}
		</script>
		<div id="wrapper">
			<span id="expand">Instructions</span>
			<div id="instructions">
				<div id="close"><span id="contract">&times;</span> Close</div>
				<br>
				<p>Try to guess the computer player's secret code in 12 turns!</p><br>
				<p>A black key peg means that one of your guesses is correct both in color and placement. A white key peg means that one of your guesses is correct in color but not in placement. The position of the key pegs do not necessarily match the code pegs to which they refer.</p>
			</div>

			<div id="center_column">
				<h1>Master Codebreaker</h1>
				<hr>
				<br>
				<br>
				<div id="board">
					<div id="blockframe">
						<div id="row1" class="rows">
					    <div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(1,1)%>;">
								</div>
							</div><!--
					--><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(1,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(1,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(1,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(1,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(1,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(1,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(1,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row2" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(2,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(2,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(2,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(2,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(2,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(2,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(2,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(2,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row3" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(3,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(3,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(3,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(3,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(3,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(3,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(3,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(3,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row4" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(4,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(4,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(4,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(4,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(4,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(4,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(4,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(4,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row5" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(5,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(5,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(5,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(5,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(5,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(5,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(5,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(5,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row6" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(6,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(6,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(6,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(6,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(6,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(6,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(6,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(6,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row7" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(7,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(7,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(7,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(7,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(7,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(7,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(7,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(7,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row8" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(8,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(8,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(8,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(8,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(8,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(8,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(8,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(8,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row9" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(9,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(9,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(9,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(9,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(9,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(9,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(9,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(9,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row10" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(10,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(10,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(10,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(10,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(10,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(10,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(10,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(10,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row11" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(11,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(11,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(11,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(11,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(11,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(11,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(11,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(11,4)%>;">
										</div>
									</div>
							</div>
						</div>
						<div id="row12" class="rows">
							<div class="blocks">
								<div class="marbles slot1" style="background-color: <%= board.get_code_peg(12,1)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot2" style="background-color: <%= board.get_code_peg(12,2)%>;">	
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot3" style="background-color: <%= board.get_code_peg(12,3)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
								<div class="marbles slot4" style="background-color: <%= board.get_code_peg(12,4)%>;">
								</div>
							</div><!--
					 --><div class="blocks">
									<div class="pegbox">
										<div class="peg1" style="background-color: <%= board.get_key_peg(12,1)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg2" style="background-color: <%= board.get_key_peg(12,2)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg3" style="background-color: <%= board.get_key_peg(12,3)%>;">
										</div>
									</div>
									<div class="pegbox">
										<div class="peg4" style="background-color: <%= board.get_key_peg(12,4)%>;">
										</div>
									</div>
							</div>
						</div>
					</div>
					<form id='guessForm' method='post' action='/submitRow'>
						<input id='input1' class='inputs' type='hidden' name='peg1_guess' value='black'>
						<input id='input2' class='inputs' type='hidden' name='peg2_guess' value='black'>
						<input id='input3' class='inputs' type='hidden' name='peg3_guess' value='black'>
						<input id='input4' class='inputs' type='hidden' name='peg4_guess' value='black'>
						<input id='submit' type='submit' value='Guess'>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>

